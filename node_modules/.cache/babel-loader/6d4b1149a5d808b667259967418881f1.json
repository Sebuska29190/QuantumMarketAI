{"ast":null,"code":"import _slicedToArray from\"/home/sebastian/Pobrane/cryptowatch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/sebastian/Pobrane/cryptowatch/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{styled}from'@mui/material/styles';import MuiAppBar from'@mui/material/AppBar';import{drawerWidth}from'./constants';import{IconButton,Skeleton,Toolbar}from'@mui/material';import MenuIcon from'@mui/icons-material/Menu';import Brand from'./Brand';import{initAction,selectCurrencyAction}from'../../store/navbarSlice';import{useAppDispatch,useAppSelector}from'../../store/hooks';import CurrenciesRef from'./CurrenciesRef';import Stats from'./Stats';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppBar=styled(MuiAppBar,{shouldForwardProp:function shouldForwardProp(prop){return prop!=='open';}})(function(_ref){var theme=_ref.theme,open=_ref.open;return _objectSpread({backgroundColor:theme.palette.common.white,color:theme.palette.text.primary,zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create(['width','margin'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},open&&{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create(['width','margin'],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})});});function AppNavBar(_ref2){var open=_ref2.open,handleDrawerOpen=_ref2.handleDrawerOpen;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),statsLoading=_useState4[0],setStatsLoading=_useState4[1];var dispatch=useAppDispatch();var navbarState=useAppSelector(function(state){return state.navbar;});var handleCurrencyChange=function handleCurrencyChange(currencyRef){setStatsLoading(true);selectCurrencyAction(dispatch,currencyRef).subscribe(function(_){return setStatsLoading(false);});};useEffect(function(){var subscription=initAction(dispatch).subscribe(function(_){return setLoading(false);});return function(){subscription.unsubscribe();};},[dispatch]);return/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",open:open,children:/*#__PURE__*/_jsxs(Toolbar,{variant:\"dense\",children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",\"aria-label\":\"open drawer\",onClick:handleDrawerOpen,edge:\"start\",sx:_objectSpread({marginRight:'36px'},open&&{display:'none'}),children:/*#__PURE__*/_jsx(MenuIcon,{})}),!open&&/*#__PURE__*/_jsx(Brand,{}),/*#__PURE__*/_jsx(\"div\",{style:{flexGrow:1,overflowX:'auto'},children:loading||statsLoading?/*#__PURE__*/_jsx(Skeleton,{}):/*#__PURE__*/_jsx(Stats,{stats:navbarState.stats,currencySign:navbarState.selectedCurrency.sign||navbarState.selectedCurrency.symbol})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center'},children:loading?/*#__PURE__*/_jsx(Skeleton,{}):/*#__PURE__*/_jsx(CurrenciesRef,{currencies:navbarState.currenciesRef,selectedCurrency:navbarState.selectedCurrency,onCurrencyChange:handleCurrencyChange})})]})});}export default AppNavBar;","map":null,"metadata":{},"sourceType":"module"}