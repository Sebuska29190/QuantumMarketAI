{"ast":null,"code":"import _slicedToArray from\"/home/sebastian/Pobrane/cryptowatch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Box,Grid,Link,styled,Typography}from'@mui/material';import{useAppDispatch,useAppSelector}from'../store/hooks';import CoinsList from'../components/CoinsList';import ExchangesList from'../components/ExchangesList';import NewsList from'../components/NewsList';import{retrieveCoinsAction}from'../store/homeSlice';import{retrieveExchangesAction}from'../store/homeSlice';import{Link as RouterLink}from'react-router-dom';import{forkJoin,tap}from'rxjs';import{retrieveNewsAction}from'../store/homeSlice';import NewsListSkeleton from'../components/NewsListSkeleton';import ExchangesListSkeleton from'../components/ExchangesListSkeleton';import CoinsListSkeleton from'../components/CoinsListSkeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Title=styled(Typography)(function(_ref){var theme=_ref.theme;return{overflow:'hidden',position:'relative',marginBottom:'1.5rem',\"&:after\":{content:'\"\"',display:'inline-block',width:'100%',height:'100%',position:'absolute',borderBottom:'1px black solid',marginLeft:'1rem'}};});function Home(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),coinsLoading=_useState2[0],setCoinsLoading=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),exchangesLoading=_useState4[0],setExchangesLoading=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),newsLoading=_useState6[0],setNewsLoading=_useState6[1];var homeState=useAppSelector(function(state){return state.home;});var selectedCurrencyRef=useAppSelector(function(state){return state.navbar.selectedCurrency;});var dispatch=useAppDispatch();useEffect(function(){if(!selectedCurrencyRef.uuid)return;window.scroll({top:0});var retrieveCoins$=retrieveCoinsAction(dispatch,{offset:0,referenceCurrencyUuid:selectedCurrencyRef.uuid}).pipe(tap(function(_){return setCoinsLoading(false);}));var retrieveExchanges$=retrieveExchangesAction(dispatch).pipe(tap(function(_){return setExchangesLoading(false);}));var retrieveNews$=retrieveNewsAction(dispatch).pipe(tap(function(_){return setNewsLoading(false);}));var subscription=forkJoin([retrieveCoins$,retrieveExchanges$,retrieveNews$]).subscribe();return function(){subscription.unsubscribe();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[selectedCurrencyRef]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(Title,{variant:\"h5\",children:\"Top Coins\"}),coinsLoading?/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(CoinsListSkeleton,{size:12})}):/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(CoinsList,{coins:homeState.coins,currencySign:selectedCurrencyRef.sign||selectedCurrencyRef.symbol})}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",mt:3},children:/*#__PURE__*/_jsx(Link,{component:RouterLink,to:'coins',variant:\"body2\",textAlign:\"center\",children:\"Show More\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(Title,{variant:\"h5\",children:\"Top Exchanges\"}),exchangesLoading?/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(ExchangesListSkeleton,{size:12})}):/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(ExchangesList,{exchanges:homeState.exchanges})}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",mt:3},children:/*#__PURE__*/_jsx(Link,{component:RouterLink,to:'exchanges',variant:\"body2\",textAlign:\"center\",children:\"Show More\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(Title,{variant:\"h5\",children:\"Coins News\"}),newsLoading?/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(NewsListSkeleton,{size:12})}):/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:/*#__PURE__*/_jsx(NewsList,{news:homeState.news})}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",mt:3},children:/*#__PURE__*/_jsx(Link,{component:RouterLink,to:'news',variant:\"body2\",textAlign:\"center\",children:\"Show More\"})})]})]})]});}export default Home;","map":null,"metadata":{},"sourceType":"module"}