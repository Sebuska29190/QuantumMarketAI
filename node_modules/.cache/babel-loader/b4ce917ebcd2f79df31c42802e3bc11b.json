{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{mergeMap,tap}from\"rxjs\";import{currenciesRefService,globalStatsService}from'../services';var initState={stats:{},currenciesRef:[],selectedCurrency:{}};var navbarSlice=createSlice({name:'navbar',initialState:initState,reducers:{setGlobalStats:function setGlobalStats(state,action){state.stats=action.payload;},setCurrenciesRef:function setCurrenciesRef(state,action){state.currenciesRef=action.payload;state.selectedCurrency=action.payload[0];},setNavbarState:function setNavbarState(state,action){// aggregate the state change used in order to minimize the number of calling useAppSelector\nstate.stats=action.payload.stats;state.selectedCurrency=action.payload.selectedCurrency;}}});var _navbarSlice$actions=navbarSlice.actions,setGlobalStats=_navbarSlice$actions.setGlobalStats,setCurrenciesRef=_navbarSlice$actions.setCurrenciesRef,setNavbarState=_navbarSlice$actions.setNavbarState;var initAction=function initAction(dispatch){return currenciesRefService.retrieve().pipe(mergeMap(function(currenciesRef){dispatch(setCurrenciesRef(currenciesRef));return globalStatsService.retrieve({referenceCurrencyUuid:currenciesRef[0].uuid});}),tap(function(stats){dispatch(setGlobalStats(stats));}));};var selectCurrencyAction=function selectCurrencyAction(dispatch,currencyRef){return globalStatsService.retrieve({referenceCurrencyUuid:currencyRef.uuid}).pipe(tap(function(stats){dispatch(setNavbarState({stats:stats,selectedCurrency:currencyRef}));}));};export{navbarSlice,initAction,selectCurrencyAction};","map":null,"metadata":{},"sourceType":"module"}