{"ast":null,"code":"import _classCallCheck from\"/home/sebastian/Pobrane/cryptowatch/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/sebastian/Pobrane/cryptowatch/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/sebastian/Pobrane/cryptowatch/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/sebastian/Pobrane/cryptowatch/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{of,mergeMap,throwError}from\"rxjs\";import{fromFetch}from'rxjs/fetch';import BaseService from\"./baseService\";var ExchangeService=/*#__PURE__*/function(_BaseService){_inherits(ExchangeService,_BaseService);var _super=_createSuper(ExchangeService);function ExchangeService(){_classCallCheck(this,ExchangeService);return _super.call(this,'https://api.coingecko.com/api/v3/exchanges',{page:1,per_page:60});}_createClass(ExchangeService,[{key:\"retrieve\",value:function retrieve(){var _this=this;var queryParams=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var qp=this.getQueryParams(queryParams);if(queryParams['page']>4)return of([]);var url=this.getUrl(qp);if(this.isCacheResponseValid(url)){return of(this.getFromCache(url));}return fromFetch(url).pipe(mergeMap(function(res){if(res.ok){return res.json();}else{return throwError(function(){return new Error(res.statusText);});}}),mergeMap(function(res){_this.putInCache(res,url,5);return of(res);}));}}]);return ExchangeService;}(BaseService);export{ExchangeService as default};","map":null,"metadata":{},"sourceType":"module"}